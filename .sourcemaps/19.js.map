{"version":3,"sources":["../../src/pages/change-password/change-password.module.ts","../../src/pages/change-password/change-password.ts"],"names":[],"mappings":"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","file":"19.js","sourcesContent":["import { NgModule } from '@angular/core';\nimport { IonicPageModule } from 'ionic-angular';\nimport { ChangePasswordPage } from './change-password';\n\n@NgModule({\n  declarations: [\n    ChangePasswordPage,\n  ],\n  imports: [\n    IonicPageModule.forChild(ChangePasswordPage),\n  ],\n  exports: [\n    ChangePasswordPage\n  ]\n})\nexport class ChangePasswordPageModule {}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/change-password/change-password.module.ts","import { Component } from '@angular/core';\nimport { IonicPage, NavController, AlertController, ToastController, MenuController, LoadingController, NavParams } from 'ionic-angular';\nimport { FormGroup, Validators, FormBuilder } from '@angular/forms';\nimport { AuthProvider } from '../../providers/auth/auth';\n\nimport { Storage } from '@ionic/storage';\n\n@IonicPage({\n\tname: 'page-edit-password',\n  segment: 'ChangePassword'\n})\n @Component({\n  selector: 'page-change-password',\n  templateUrl: 'change-password.html',\n})\nexport class ChangePasswordPage {\n  \n  PassForm: FormGroup;\n  loading: any;\n  user = {\n    \"oldPassword\": \"\",\n    \"newPassword\": \"\",\n    \"repeatedPassword\": \"\"\n  };\n\n\n\n  constructor(public storage:Storage,private authService:AuthProvider,public formBuilder: FormBuilder, public navParams: NavParams,public navCtrl: NavController , public forgotCtrl: AlertController, public menu: MenuController, private toastCtrl: ToastController,public loadingCtrl: LoadingController) {\n    this.menu.swipeEnable(false);\n    this.navCtrl = navCtrl;\n    this.PassForm = formBuilder.group({      \n      oldPassword: ['', Validators.compose([Validators.required, Validators.minLength(6)])],\n      newPassword: ['', Validators.compose([Validators.required, Validators.minLength(6)])],\n      repeatedPassword: ['', Validators.compose([Validators.required, Validators.minLength(6)])],\n    },{validator: this.matchingPasswords('newPassword', 'repeatedPassword')});\n  }\n\n  matchingPasswords(passwordKey: string, confirmPasswordKey: string) {\n    return (group: FormGroup): {[key: string]: any} => {\n      let password = group.controls[passwordKey];\n      let confirmPassword = group.controls[confirmPasswordKey];\n\n      if (password.value !== confirmPassword.value) {\n        return {\n          mismatchedPasswords: true\n        };\n      }\n    }\n}\n\n  presentToast(msg) {\n    let toast = this.toastCtrl.create({\n      message: msg,\n      duration: 3000,\n      position: 'bottom',\n      dismissOnPageChange: true\n    });\n\n    toast.onDidDismiss(() => {\n      console.log('Dismissed toast');\n    });\n\n    toast.present();\n  }\n\n  onSubmit(): void {\n    console.log(\"submit\")\n    if(this.PassForm.valid) {\n        this.showLoader();\n        this.authService.changePpassword(this.user).then(res=>{\n          console.log(res)\n          this.loading.dismiss();\n          this.presentToast(\"updated succesfully\");\n          this.navCtrl.setRoot('page-initial');\n        }).catch(error=>{\n          console.log(error);\n          this.presentToast(\"Invalid data\");    \n        })\n          // back to home page\n    }else{\n      this.presentToast(\"Invalid data\");\n    }\n\n  }\n    \n  ionViewDidLoad() {\n    console.log('ionViewDidLoad ChangePasswordPage');\n  }\n\n  showLoader(){\n    this.loading = this.loadingCtrl.create({\n        content: 'Authenticating...'\n    });\n\n    this.loading.present();\n  }\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/change-password/change-password.ts"],"sourceRoot":""}