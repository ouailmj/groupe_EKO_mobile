{"version":3,"sources":["../../src/pages/property-list/property-list.module.ts","../../src/pages/property-list/property-list.ts"],"names":[],"mappings":"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","file":"5.js","sourcesContent":["import { NgModule } from '@angular/core';\nimport { IonicPageModule } from 'ionic-angular';\nimport { PipesModule } from '../../pipes/pipes.module';\n\nimport { PropertyListPage } from './property-list';\n\n@NgModule({\n\tdeclarations: [\n\t\tPropertyListPage\n\t],\n\timports: [\n\t\tIonicPageModule.forChild(PropertyListPage),\n\t\tPipesModule\n\t],\n\texports: [\n\t\tPropertyListPage\n\t]\n})\n\nexport class PropertyListPageModule { }\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/property-list/property-list.module.ts","import {Component} from '@angular/core';\nimport {IonicPage, Config, NavController, NavParams, ToastController, ModalController} from 'ionic-angular';\n\nimport {PropertyService} from '../../providers/property-service-mock';\nimport leaflet from 'leaflet';\n\n@IonicPage({\n\tname: 'page-property-list',\n\tsegment: 'propertylist'\n})\n\n@Component({\n    selector: 'page-property-list',\n    templateUrl: 'property-list.html'\n})\nexport class PropertyListPage {\n\n    properties: Array<any>;\n    searchKey: string = \"\";\n    viewMode: string = \"list\";\n    proptype: string;\n    from: string;\n    map;\n    markersGroup;\n\n    constructor(public navCtrl: NavController, public navParams: NavParams, public service: PropertyService, public toastCtrl: ToastController, public modalCtrl: ModalController, public config: Config) {\n\t\t\tthis.findAll();\n\t\t\tthis.proptype = this.navParams.get('proptype') || \"\";\n\t\t\tthis.from = this.navParams.get('from') || \"\";\n\t\t// console.log(this.proptype);\n\t\t// console.log(this.from);\n    }\n\n    openFilterModal() {\n\t\tlet modal = this.modalCtrl.create('page-property-filter');\n      // modal.onDidDismiss(data => {\n      //   console.log(data);\n      // });\n      modal.present();\n    }\n\n    openPropertyDetail(property: any) {\n\t\t\tthis.navCtrl.push('page-property-detail', {\n\t\t\t\t'id': property.id\n\t\t\t});\n    }\n\n    favorite(property) {\n        this.service.favorite(property)\n            .then(property => {\n                let toast = this.toastCtrl.create({\n                    message: 'Property added to your favorites',\n                    cssClass: 'mytoast',\n                    duration: 2000\n                });\n                toast.present(toast);\n            });\n    }\n\n    onInput(event) {\n        this.service.findByName(this.searchKey)\n            .then(data => {\n                this.properties = data;\n                //if (this.viewMode === \"map\") {\n                 //   this.showMarkers();\n                //}\n            })\n            .catch(error => alert(JSON.stringify(error)));\n    }\n\n    onCancel(event) {\n        this.findAll();\n    }\n\n    findAll() {\n        this.service.findAll()\n            .then(data => this.properties = data)\n            .catch(error => alert(error));\n    }\n\n    // showMap() {\n    //     setTimeout(() => {\n    //         this.map = leaflet.map(\"map\").setView([42.361132, -71.070876], 14);\n    //         leaflet.tileLayer('http://server.arcgisonline.com/ArcGIS/rest/services/World_Street_Map/MapServer/tile/{z}/{y}/{x}', {\n    //             attribution: 'Tiles &copy; Esri'\n    //         }).addTo(this.map);\n    //         this.showMarkers();\n    //     })\n    // }\n\n    // showMarkers() {\n    //     if (this.markersGroup) {\n    //         this.map.removeLayer(this.markersGroup);\n    //     }\n    //     this.markersGroup = leaflet.layerGroup([]);\n    //     this.properties.forEach(property => {\n    //         if (property.lat, property.long) {\n    //             let marker: any = leaflet.marker([property.lat, property.long]).on('click', event => this.openPropertyDetail(event.target.data));\n    //             marker.data = property;\n    //             this.markersGroup.addLayer(marker);\n    //         }\n    //     });\n    //     this.map.addLayer(this.markersGroup);\n    // }\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/property-list/property-list.ts"],"sourceRoot":""}